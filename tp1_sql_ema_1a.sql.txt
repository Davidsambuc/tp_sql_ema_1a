DROP TABLE Recette;
DROP TABLE Plat;
DROP TABLE Ingrédient;
DROP TABLE Chef;
DROP TABLE Catégorie;


CREATE TABLE Catégorie(
    idCatégorie NUMBER,
    libellé VARCHAR2 (32),
    PRIMARY KEY (idCatégorie)
);
CREATE TABLE Plat(
    idPlat NUMBER,
    description VARCHAR2 (64),
    type VARCHAR2 (16),
    nbPersonne NUMBER,
    PRIMARY KEY (idPlat)
);
CREATE TABLE Ingrédient(
    idIngrédient NUMBER,
    idCatégorie NUMBER,
    nom VARCHAR2 (32),
    qualificatif VARCHAR2 (32),
    PRIMARY KEY (idIngrédient),
    FOREIGN KEY (idCatégorie) REFERENCES Catégorie(idCatégorie)
);
CREATE TABLE Chef(
    nom VARCHAR2 (32),
    prénom VARCHAR2 (32),
    nomRestaurant VARCHAR2 (32),
    adresseRestaurant VARCHAR2 (64),
    PRIMARY KEY (nom, prénom)
);
CREATE TABLE Recette(
    idPlat NUMBER,
    nomChef VARCHAR2 (32),
    prénomChef VARCHAR2 (32),
    idIngrédient NUMBER,
    quantité NUMBER,
    PRIMARY KEY (idPlat, nomChef, prénomChef, idIngrédient),
    FOREIGN KEY (idPlat) REFERENCES Plat(idPlat),
    FOREIGN KEY (nomChef, prénomChef) REFERENCES Chef(nom, prénom),
    FOREIGN KEY (idIngrédient) REFERENCES Ingrédient(idIngrédient)
);

INSERT INTO CATÉGORIE (IDCATÉGORIE, LIBELLÉ) VALUES (1,'viande'); 
INSERT INTO Catégorie (idCatégorie, libellé) VALUES (2,'poisson');
INSERT INTO Catégorie (idCatégorie, libellé) VALUES (3,'légumes');
INSERT INTO Catégorie (idCatégorie, libellé) VALUES (4,'crudité');
INSERT INTO Catégorie (idCatégorie, libellé) VALUES (5,'farine');
INSERT INTO Catégorie (idCatégorie, libellé) VALUES (6,'laitage');

INSERT INTO Plat (idPlat, DESCRIPTION, NBPERSONNE, TYPE) VALUES (1,'blanquette de veau',5,'entrée');
INSERT INTO Plat (idPlat, DESCRIPTION, NBPERSONNE, TYPE) VALUES (2,'Andouillette',4,'plat');
INSERT INTO Plat (idPlat, DESCRIPTION, NBPERSONNE, TYPE) VALUES (3,'Aligot',6,'plat');
INSERT INTO Plat (idPlat, DESCRIPTION, NBPERSONNE, TYPE) VALUES (4,'Tiramisu',2,'dessert');

INSERT INTO Chef (nom, prénom, nomRestaurant, adresseRestaurant) VALUES ('DUMAS','Michel','AAA','BBB');
INSERT INTO Chef (nom, prénom, nomRestaurant, adresseRestaurant) VALUES ('BONNISSEUR DE LA BATTE','Hubert','LA SCEP','Le Caire');
INSERT INTO Chef (nom, prénom, nomRestaurant, adresseRestaurant) VALUES ('Flantier','Noël','Le Reich de l''amour','Rio');

INSERT INTO Ingrédient (IDINGRÉDIENT,IDCATÉGORIE,NOM,QUALIFICATIF) VALUES (1,6,'fromage','bleu');
INSERT INTO Ingrédient (IDINGRÉDIENT,IDCATÉGORIE,NOM,QUALIFICATIF) VALUES (9,1,'veau','spécial blanquette');
INSERT INTO Ingrédient (IDINGRÉDIENT,IDCATÉGORIE,NOM,QUALIFICATIF) VALUES (2,1,'boeuf','bavette');
INSERT INTO Ingrédient (IDINGRÉDIENT,IDCATÉGORIE,NOM,QUALIFICATIF) VALUES (3,2,'saumon','filet');
INSERT INTO Ingrédient (IDINGRÉDIENT,IDCATÉGORIE,NOM,QUALIFICATIF) VALUES (4,3,'pommes de terre','purée');
INSERT INTO Ingrédient (IDINGRÉDIENT,IDCATÉGORIE,NOM,QUALIFICATIF) VALUES (5,4,'salade','roquette');
INSERT INTO Ingrédient (IDINGRÉDIENT,IDCATÉGORIE,NOM,QUALIFICATIF) VALUES (6,5,'pain','campagne');
INSERT INTO Ingrédient (IDINGRÉDIENT,IDCATÉGORIE,NOM,QUALIFICATIF) VALUES (7,5,'pain','complet');
INSERT INTO Ingrédient (IDINGRÉDIENT,IDCATÉGORIE,NOM,QUALIFICATIF) VALUES (8,3,'pommes de terre','frites');


INSERT INTO Recette (idPlat,nomChef, prénomChef, "IDINGRÉDIENT", "QUANTITÉ") VALUES (3,'DUMAS','Michel',1,200);
INSERT INTO Recette (idPlat,nomChef, prénomChef, "IDINGRÉDIENT", "QUANTITÉ") VALUES (3,'DUMAS','Michel',2,400);
INSERT INTO Recette (idPlat,nomChef, prénomChef, "IDINGRÉDIENT", "QUANTITÉ") VALUES (3,'DUMAS','Michel',4,500);
INSERT INTO Recette (idPlat,nomChef, prénomChef, "IDINGRÉDIENT", "QUANTITÉ") VALUES (1,'BONNISSEUR DE LA BATTE','Hubert',9,10000);
INSERT INTO Recette (idPlat,nomChef, prénomChef, "IDINGRÉDIENT", "QUANTITÉ") VALUES (1,'BONNISSEUR DE LA BATTE','Hubert',8,666);
INSERT INTO Recette (idPlat,nomChef, prénomChef, "IDINGRÉDIENT", "QUANTITÉ") VALUES (1,'Flantier','Noël',9,15000);
INSERT INTO Recette (idPlat,nomChef, prénomChef, "IDINGRÉDIENT", "QUANTITÉ") VALUES (1,'Flantier','Noël',8,1);
INSERT INTO Recette (idPlat,nomChef, prénomChef, "IDINGRÉDIENT", "QUANTITÉ") VALUES (2,'Flantier','Noël',5,100);
INSERT INTO Recette (idPlat,nomChef, prénomChef, "IDINGRÉDIENT", "QUANTITÉ") VALUES (2,'Flantier','Noël',6,1000);
